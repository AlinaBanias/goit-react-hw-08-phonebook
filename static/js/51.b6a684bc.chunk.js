"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[51],{4051:function(n,e,t){t.r(e),t.d(e,{default:function(){return nn}});var r,o,a,i,s,c,l,d,p=t(1413),u=t(5861),h=t(9439),x=t(168),f=t(7757),m=t.n(f),g=(t(2791),t(5705)),b=t(612),w=b.Z.label(r||(r=(0,x.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  span {\n    color: red;\n  }\n"]))),Z=(b.Z.button(o||(o=(0,x.Z)(["\n  display: flex;\n  justify-content: space-around;\n  width: 150px;\n  font-size: 20px;\n"]))),t(8007)),v=(t(7427),t(8989)),j=t(5985),y=t(6870),C=t(1966),k=t(184),z=(0,b.Z)(g.gN)(a||(a=(0,x.Z)(["\n  max-width: 100%;\n  margin-left: auto;\n  font-size: 20px;\n"]))),S=(0,b.Z)(g.l0)(i||(i=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 350px;\n  gap: 10px;\n  font-size: 20px;\n"]))),A={name:"",number:""},L=Z.Ry().shape({name:Z.Z_().trim().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),number:Z.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),B=function(n){var e=n.contacts,t=(0,v.Tn)(),r=(0,h.Z)(t,2),o=r[0],a=r[1].isLoading,i=function(){var n=(0,u.Z)(m().mark((function n(e,t){var r;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.resetForm,!s(e.name)){n.next=4;break}return j.Am.error("This contact is already exist",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),n.abrupt("return");case 4:return n.next=6,o(e).unwrap().then((function(){j.Am.success("Contact is added to your phonebook",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),r()})).catch((function(){console.error("Error!")}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),s=function(n){return e.find((function(e){return e.name===n}))};return(0,k.jsx)(g.J9,{initialValues:A,onSubmit:i,validationSchema:L,children:(0,k.jsxs)(S,{autoComplete:"off",children:[(0,k.jsxs)(w,{children:["Name",(0,k.jsx)(z,{type:"text",name:"name"}),(0,k.jsx)(g.Bc,{name:"name",component:"span"})]}),(0,k.jsxs)(w,{children:["Number",(0,k.jsx)(z,{type:"tel",name:"number"}),(0,k.jsx)(g.Bc,{name:"number",component:"span"})]}),(0,k.jsxs)(C.Z,{type:"submit",disabled:a,variant:"contained",sx:{height:40,width:200,":hover":{backgroundColor:"green"}},children:[a&&(0,k.jsx)(y.iT,{height:15,width:15,color:"rgb(25, 0, 185)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2}),"Add contact"]})]})})},W=(b.Z.li(s||(s=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n"]))),b.Z.button(c||(c=(0,x.Z)(["\n  display: flex;\n  margin-left: auto;\n  justify-content: space-around;\n  width: 100px;\n  font-size: 20px;\n"]))),b.Z.span(l||(l=(0,x.Z)(["\n  color: #37474f;\n  font-size: 20px;\n  font-weight: 500;\n"])))),N=b.Z.span(d||(d=(0,x.Z)(["\n  color: #37474f;\n  font-size: 20px;\n  font-weight: 500;\n"]))),O=t(3044),P=t(7689),_=t(4554),I=t(6314);function T(n){var e,t=0;for(e=0;e<n.length;e+=1)t=n.charCodeAt(e)+((t<<5)-t);var r="#";for(e=0;e<3;e+=1){r+="00".concat((t>>8*e&255).toString(16)).slice(-2)}return r}function F(n){return n.split(" ").length>1?{sx:{bgcolor:T(n)},children:"".concat(n.split(" ")[0][0]).concat(n.split(" ")[1][0])}:{sx:{bgcolor:T(n)},children:"".concat(n.split(" ")[0][0])}}var E,H,q,D,J=function(n){var e=n.name,t=n.number,r=n.id,o=(0,P.s0)(),a=(0,v.Nt)(),i=(0,h.Z)(a,2),s=i[0],c=i[1].isLoading,l=function(){var n=(0,u.Z)(m().mark((function n(e){return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s(e).unwrap().then((function(){j.Am.info("Contact deleted",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})})).catch((function(){console.error("Error!")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,k.jsxs)(_.Z,{component:"li",sx:{display:"flex",justifyContent:"space-between",padding:"5px",alignItems:"center",borderBottomStyle:"groove"},children:[(0,k.jsxs)(I.Z,{spacing:2,direction:"row",sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(O.Z,(0,p.Z)({},F(e))),(0,k.jsxs)(W,{children:[e,":"]}),(0,k.jsx)(N,{children:t})]}),(0,k.jsxs)(I.Z,{spacing:2,direction:"row",children:[(0,k.jsxs)(C.Z,{type:"button",onClick:function(){o("/goit-react-hw-08-phonebook/contacts/edit/".concat(r))},disabled:c,variant:"contained",sx:{height:30,width:100,":hover":{backgroundColor:"green"}},children:[c&&(0,k.jsx)(y.iT,{height:15,width:15,color:"rgb(25, 0, 185)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2}),"Edit"]}),(0,k.jsxs)(C.Z,{type:"button",onClick:function(){return l(r)},disabled:c,variant:"contained",sx:{height:30,width:100,backgroundColor:"orange",":hover":{backgroundColor:"red"}},children:[c&&(0,k.jsx)(y.iT,{height:15,width:15,color:"rgb(25, 0, 185)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#4fa94d",strokeWidth:2,strokeWidthSecondary:2}),"Delete"]})]})]})},M=t(7225),R=function(n){var e=n.contacts;return(0,k.jsx)(M.Z,{sx:{width:"100%",maxWidth:"1200px",display:"flex",flexDirection:"column",gap:"5px"},children:e.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,k.jsx)(J,{id:e,name:t,number:r},e)}))})},V=b.Z.label(E||(E=(0,x.Z)(["\n  font-size: 25px;\n"]))),Y=b.Z.input(H||(H=(0,x.Z)(["\n  margin-left: 10px;\n  width: 275px;\n  height: 30px;\n  font-size: 20px;\n"]))),$=function(n){var e=n.value,t=n.onInputChange;return(0,k.jsxs)(V,{children:["Find contacts by name",(0,k.jsx)(Y,{type:"text",name:"filter",onChange:t,value:e})]})},G=b.Z.h2(q||(q=(0,x.Z)(["\n  font-size: 30px;\n"]))),K=(b.Z.div(D||(D=(0,x.Z)(["\n  padding: 20px;\n  max-width: 600px;\n"]))),t(9164)),Q=t(6895),U=t(5048),X=function(){var n=(0,U.I0)();return{onInputChange:function(e){n((0,Q.sP)(e.target.value))}}},nn=function(){var n=X(""),e=(0,U.v9)(Q.B8),t=(0,v.wY)(),r=t.data,o=void 0===r?[]:r,a=t.error,i=t.isFetching,s=function(n){return o.filter((function(e){return e.name.toLocaleLowerCase().includes(n)}))}(e.toLocaleLowerCase());return(0,k.jsxs)(K.Z,{maxWidth:"md",children:[(0,k.jsx)("h1",{children:"Phonebook"}),(0,k.jsx)(B,{contacts:o}),(0,k.jsx)(G,{children:"Contacts"}),(0,k.jsx)($,(0,p.Z)({},n)),i?(0,k.jsx)(y.g4,{height:"80",width:"80",radius:"9",color:"#0000ff",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0}):(0,k.jsx)(R,{contacts:s}),a&&(0,k.jsx)("h3",{children:"Something went wrong"}),(0,k.jsx)(P.j3,{})]})}}}]);
//# sourceMappingURL=51.b6a684bc.chunk.js.map